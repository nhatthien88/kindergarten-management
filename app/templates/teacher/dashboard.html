<!-- app/templates/teacher/dashboard.html -->
{% extends "base.html" %}

{% block title %}Teacher Dashboard - Kindergarten Management{% endblock %}

{% block content %}
<div class="container">
    <div class="dashboard">
        <header class="dashboard-header">
            <h1>ğŸ‘¨â€ğŸ« Teacher Dashboard</h1>
            <div class="user-info">
                <span id="userName">{{ user.full_name }}</span>
                <a href="{{ url_for('auth.logout') }}" class="btn btn-secondary"
                    onclick="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n Ä‘Äƒng xuáº¥t?')">
                    ÄÄƒng xuáº¥t
                </a>
            </div>
        </header>

        <div class="dashboard-content">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            <div style="margin-bottom: 20px;">
                {% for category, message in messages %}
                <div class="alert alert-{{ category }}">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}
            {% endwith %}

            <div class="welcome-card">
                <h2>ChÃ o má»«ng GiÃ¡o viÃªn! ğŸ‘‹</h2>
                <div id="userDetails">
                    <p><strong>Email:</strong> {{ user.email }}</p>
                    <p><strong>Vai trÃ²:</strong> GiÃ¡o viÃªn (Teacher)</p>
                    <p><strong>Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> {{ user.phone or 'ChÆ°a cáº­p nháº­t' }}</p>
                    <p><strong>Tráº¡ng thÃ¡i:</strong>
                        <span class="status-{% if user.is_active %}active{% else %}inactive{% endif %}">
                            {% if user.is_active %}âœ… Äang hoáº¡t Ä‘á»™ng{% else %}âŒ KhÃ´ng hoáº¡t Ä‘á»™ng{% endif %}
                        </span>
                    </p>
                </div>
            </div>

            <h2 style="margin-bottom: 20px; color: #333;">Thá»‘ng kÃª lá»›p há»c</h2>
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div
                    style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 25px; border-radius: 16px; color:  white; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 48px; font-weight: bold;">{{ stats.total_students }}</div>
                    <div style="margin-top: 10px; font-size: 16px;">ğŸ“ Há»c sinh</div>
                </div>

                <div
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 25px; border-radius:  16px; color: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 48px; font-weight: bold;">{{ stats.total_classes }}</div>
                    <div style="margin-top: 10px; font-size: 16px;">ğŸ“š Lá»›p há»c</div>
                </div>

                <div
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 16px; color: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="font-size: 48px; font-weight: bold;">{{ stats.pending_tasks }}</div>
                    <div style="margin-top:  10px; font-size:  16px;">ğŸ“ CÃ´ng viá»‡c</div>
                </div>
            </div>

            <h2 style="margin-bottom: 20px; color: #333;">Chá»©c nÄƒng giÃ¡o viÃªn</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>ğŸ‘¥ Lá»›p há»c cá»§a tÃ´i</h3>
                    <p>Xem danh sÃ¡ch lá»›p Ä‘Æ°á»£c phÃ¢n cÃ´ng</p>
                </div>

                <div class="feature-card">
                    <h3>ğŸ“ Há»c sinh</h3>
                    <p>Xem thÃ´ng tin há»c sinh trong lá»›p</p>
                </div>

                <div class="feature-card">
                    <h3>ğŸ¥ Ghi nháº­n sá»©c khá»e</h3>
                    <p>Nháº­p cÃ¢n náº·ng, nhiá»‡t Ä‘á»™ hÃ ng ngÃ y</p>
                </div>

                <div class="feature-card">
                    <h3>ğŸ± Äiá»ƒm danh Äƒn</h3>
                    <p>Ghi nháº­n há»c sinh cÃ³ Äƒn khÃ´ng</p>
                </div>

                <div class="feature-card">
                    <h3>ğŸ“Š BÃ¡o cÃ¡o</h3>
                    <p>Xem bÃ¡o cÃ¡o lá»›p há»c</p>
                </div>

                <div class="feature-card">
                    <h3>ğŸ“¢ ThÃ´ng bÃ¡o</h3>
                    <p>Gá»­i thÃ´ng bÃ¡o cho phá»¥ huynh</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}