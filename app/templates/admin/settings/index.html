{% extends "admin/base.html" %}

{% block title %}C·∫•u h√¨nh H·ªá th·ªëng{% endblock %}
{% block page_title %}‚öôÔ∏è C·∫•u h√¨nh H·ªá th·ªëng{% endblock %}

{% block content %}
<div class="form-container">
    <form method="POST" action="{{ url_for('admin.update_settings') }}">
        <!-- Tabs -->
        <div class="tabs">
            <button type="button" class="tab active" data-target="fee-settings">H·ªçc ph√≠</button>
            <button type="button" class="tab" data-target="classroom-settings">L·ªõp h·ªçc</button>
            <button type="button" class="tab" data-target="school-info">Th√¥ng tin tr∆∞·ªùng</button>
        </div>

        <!-- Tab Content 1: Fee Settings -->
        <div id="fee-settings" class="tab-content active">
            <h3>C√†i ƒë·∫∑t h·ªçc ph√≠</h3>
            <div class="form-group">
                <label for="tuition_fee_monthly">H·ªçc ph√≠ h√†ng th√°ng (VND) <span style="color: red;">*</span></label>
                <input type="number" class="form-control" id="tuition_fee_monthly" name="tuition_fee_monthly" 
                       value="{{ settings.get('tuition_fee_monthly', 1500000) }}" required>
                <small>M·ª©c h·ªçc ph√≠ c∆° b·∫£n h√†ng th√°ng (YC3: 1,500,000 VND)</small>
            </div>

            <div class="form-group">
                <label for="meal_price_daily">Gi√° ti·ªÅn ƒÉn m·ªói ng√†y (VND) <span style="color: red;">*</span></label>
                <input type="number" class="form-control" id="meal_price_daily" name="meal_price_daily" 
                       value="{{ settings.get('meal_price_daily', 25000) }}" required>
                <small>Gi√° ti·ªÅn ƒÉn cho m·ªói ng√†y (YC3: 25,000 VND)</small>
            </div>
        </div>

        <!-- Tab Content 2: Classroom Settings -->
        <div id="classroom-settings" class="tab-content">
            <h3>C√†i ƒë·∫∑t l·ªõp h·ªçc</h3>
            <div class="form-group">
                <label for="default_classroom_capacity">S·ª©c ch·ª©a m·∫∑c ƒë·ªãnh c·ªßa l·ªõp h·ªçc <span style="color: red;">*</span></label>
                <input type="number" class="form-control" id="default_classroom_capacity" 
                       name="default_classroom_capacity" 
                       value="{{ settings.get('default_classroom_capacity', 25) }}" required>
                <small>S·ªë h·ªçc sinh t·ªëi ƒëa trong m·ªôt l·ªõp (YC5)</small>
            </div>
        </div>

        <!-- Tab Content 3: School Info -->
        <div id="school-info" class="tab-content">
            <h3>Th√¥ng tin tr∆∞·ªùng</h3>
            <div class="form-group">
                <label for="school_name">T√™n tr∆∞·ªùng <span style="color: red;">*</span></label>
                <input type="text" class="form-control" id="school_name" name="school_name" 
                       value="{{ settings.get('school_name', 'Tr∆∞·ªùng M·∫ßm Non ABC') }}" required>
            </div>

            <div class="form-group">
                <label for="school_address">ƒê·ªãa ch·ªâ</label>
                <textarea class="form-control" id="school_address" name="school_address">{{ settings.get('school_address', '') }}</textarea>
            </div>

            <div class="form-group">
                <label for="school_phone">S·ªë ƒëi·ªán tho·∫°i</label>
                <input type="text" class="form-control" id="school_phone" name="school_phone" 
                       value="{{ settings.get('school_phone', '') }}">
            </div>

            <div class="form-group">
                <label for="school_email">Email</label>
                <input type="email" class="form-control" id="school_email" name="school_email" 
                       value="{{ settings.get('school_email', '') }}">
            </div>
        </div>

        <!-- Submit Button -->
        <div class="form-group" style="margin-top: 30px;">
            <button type="submit" class="btn btn-primary">üíæ L∆∞u c√†i ƒë·∫∑t</button>
            <a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary">H·ªßy</a>
        </div>
    </form>
</div>
{% endblock %}
